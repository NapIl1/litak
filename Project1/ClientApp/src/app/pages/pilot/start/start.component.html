<div>

  <div class="row">
    <div class="col-12">
      <label class="col-form-label">Вибір шаблону</label>
      <ng-select (change)="templateSelected()"
        [(ngModel)]="selectedTemplate">
        <ng-option *ngFor="let template of userInfo.userOptions?.templates" [value]="template">
            <span class="badge">{{template.templateName}}</span>
        </ng-option>
      </ng-select>
    </div>
  </div>




  <div class="row">
    <div class="col-6">
      <label required class="col-form-label">Позивний</label>
      <input
        [disabled]="flight.flightStep.step != FlightSteps.START || ( flight.flightStep.step == FlightSteps.START && flight.flightStep.isApproved == true)"
        [(ngModel)]="flight.operator" type="text" class="form-control">
    </div>
    <div class="col-6">
      <label class="col-form-label">Підрозділ</label>
      <input
        [disabled]="flight.flightStep.step != FlightSteps.START || ( flight.flightStep.step == FlightSteps.START && flight.flightStep.isApproved == true)"
        [(ngModel)]="flight.unit" type="text" class="form-control">
    </div>
  </div>

  <div class="row">
    <div class="col-6">
      <div>
        <label class="col-form-label">Смуга</label>
        <input
        [disabled]="flight.flightStep.step != FlightSteps.START || ( flight.flightStep.step == FlightSteps.START && flight.flightStep.isApproved == true)"
        [(ngModel)]="flight.zone" type="text" class="form-control">
      </div>
    </div>
    <div class="col-6">
      <div>
        <label class="col-form-label">РВЗ</label>
        <input
        [disabled]="flight.flightStep.step != FlightSteps.START || ( flight.flightStep.step == FlightSteps.START && flight.flightStep.isApproved == true)"
        [(ngModel)]="flight.taskPerformanceArea" type="text" class="form-control">
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-6">
      <label class="col-form-label">Призначення дрону</label>
      <ng-select
        [disabled]="flight.flightStep.step != FlightSteps.START || ( flight.flightStep.step == FlightSteps.START && flight.flightStep.isApproved == true)"
        [(ngModel)]="flight.assignment">
        <ng-option *ngFor="let item of options.dronAppointment" [value]="item">
          <span [style.backgroundColor]="item.color" class="badge">{{item.name}}</span>
        </ng-option>
      </ng-select>
    </div>
    <div class="col-6">
      <div>
        <label class="col-form-label">Модель</label>
        <ng-select 
          [disabled]="flight.flightStep.step != FlightSteps.START || ( flight.flightStep.step == FlightSteps.START && flight.flightStep.isApproved == true)"
          [(ngModel)]="flight.model">
          <ng-option *ngFor="let item of options.dronModels" [value]="item">
            <span [style.backgroundColor]="item.color" class="badge">{{item.name}}</span>
          </ng-option>
        </ng-select>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-6">
      <div>
        <label class="col-form-label">Д/Ч керування</label>
        <input
          [disabled]="flight.flightStep.step != FlightSteps.START || ( flight.flightStep.step == FlightSteps.START && flight.flightStep.isApproved == true)"
          [(ngModel)]="flight.controlRange" type="text" class="form-control"
          aria-describedby="addon-mh">
      </div>
    </div>
    <div class="col-6">
      <div>
        <label class="col-form-label">Д/Ч відео</label>
        <input
          [disabled]="flight.flightStep.step != FlightSteps.START || ( flight.flightStep.step == FlightSteps.START && flight.flightStep.isApproved == true)"
          [(ngModel)]="flight.videoRange" type="text" class="form-control">
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-6">
      <div>
        <label class="col-form-label">Маршрут до ЛБЗ</label>
        <input
          [disabled]="flight.flightStep.step != FlightSteps.START || ( flight.flightStep.step == FlightSteps.START && flight.flightStep.isApproved == true)"
          [(ngModel)]="flight.routeForward" type="text" class="form-control">
      </div>
    </div>

    <div class="col-6">
      <div>
        <label class="col-form-label">Маршрут від ЛБЗ</label>
        <input
          [disabled]="flight.flightStep.step != FlightSteps.START || ( flight.flightStep.step == FlightSteps.START && flight.flightStep.isApproved == true)"
          [(ngModel)]="flight.routeBack" type="text" class="form-control">
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-6">
      <div>
        <label class="col-form-label">Робоча висота</label>
        <input
        [disabled]="flight.flightStep.step != FlightSteps.START || ( flight.flightStep.step == FlightSteps.START && flight.flightStep.isApproved == true)"
        [(ngModel)]="flight.workingHeight" type="text" class="form-control">
      </div>
    </div>

    <div class="col-6">
      <div>
        <label class="col-form-label">Посилання на стрім</label>
        <input
        [disabled]="flight.flightStep.step != FlightSteps.START || ( flight.flightStep.step == FlightSteps.START && flight.flightStep.isApproved == true)"
        [(ngModel)]="flight.streamLink" type="text" class="form-control">
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-6">
      <label class="col-form-label">Телефон</label>
      <input
        [disabled]="flight.flightStep.step != FlightSteps.START || ( flight.flightStep.step == FlightSteps.START && flight.flightStep.isApproved == true)"
        [(ngModel)]="flight.phoneNumber" type="text" class="form-control" mask='(000) 000-0000'>
    </div>
    <div class="col-6">
      <div>
        <label class="col-form-label">Дата вильоту</label>
        <input *ngIf="!flight.dateOfFlight" [ngModel]="dateNow | date:'yyyy-MM-dd HH:mm'" type="datetime-local"
          disabled="true" class="form-control">
        <input *ngIf="flight.dateOfFlight" [ngModel]="flight.dateOfFlight | date:'yyyy-MM-dd HH:mm'"
          type="datetime-local" disabled="true" class="form-control">
      </div>
    </div>
  </div>


  <div class="row">
    <div class="col-12">
      <div>
        <label class="col-form-label">Діскорд</label>
        <div class="alert alert-secondary">
          <a target="_blank" [href]="flight.discordUrl">
            {{flight.discordUrl}}
          </a>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-12">
      <label class="custom-control custom-checkbox">
        <input required
          [disabled]="flight.flightStep.step != FlightSteps.START || ( flight.flightStep.step == FlightSteps.START && flight.flightStep.isApproved == true)"
          [(ngModel)]="flight.isInDiscord" type="checkbox" checked="" class="custom-control-input">
        <span class="custom-control-label">
          Зайшов у Діскорд <b>(обов'язково)</b>
        </span>
      </label>
    </div>
  </div>

  <div class="row">
    <div class="col-12">
      <div class="mt-3 d-flex justify-content-end">
        <button *ngIf="!flight._id" [disabled]="validateStep()" (click)="createFlight()" href="#"
          class="btn btn-success w-100">
          Створити політ
          <i class="fas fa-arrow-right"></i>
        </button>
      </div>
    </div>
  </div>

</div>